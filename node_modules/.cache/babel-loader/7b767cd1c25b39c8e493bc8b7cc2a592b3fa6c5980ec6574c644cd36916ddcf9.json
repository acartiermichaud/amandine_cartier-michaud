{"ast":null,"code":"var _jsxFileName = \"/home/amandine/Documents/OpenClassRooms/FormationIntegrateurWeb/Projet_12/P12_GitHub/p12/src/components/Carousel/index.js\",\n  _s = $RefreshSig$();\n// React\nimport { useState, useCallback, useEffect } from 'react';\n\n// PropTypes\nimport PropTypes from 'prop-types';\n\n// Style\nimport './style.scss';\n\n// Redux\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Carousel({\n  pictures\n}) {\n  _s();\n  const {\n    nightMode\n  } = useSelector(state => state.display);\n  const total = pictures.length;\n  let [position, setPosition] = useState(0);\n  const [oldPosition, setOldPosition] = useState(0);\n  const [mvt, setMvt] = useState(\"none\");\n\n  // const mvtCarousel = useCallback(() => {\n  //   setInterval(handleArrowClick (\"back\"), 1000) \n  // }, [])\n\n  // useEffect(() => {\n  //   mvtCarousel()\n  // }, [mvtCarousel])\n\n  // Function that calculates the new position in carousel\n  function calcPosition(direction) {\n    if (direction === \"forward\") {\n      if (position === total - 1) {\n        position = 0;\n        setOldPosition(total - 1);\n      } else {\n        position += 1;\n        setOldPosition(position - 1);\n      }\n    }\n    if (direction === \"back\") {\n      if (position === 0) {\n        position = total - 1;\n        setOldPosition(0);\n      } else {\n        position -= 1;\n        setOldPosition(position + 1);\n      }\n    }\n    return position;\n  }\n\n  // Function that displays sliding then initializes mvt variable\n  function sliding(direction) {\n    setMvt(direction);\n    setTimeout(() => {\n      setMvt('none');\n    }, 700);\n  }\n\n  // Function that triggers the carousel animation\n  function handleArrowClick(direction) {\n    setPosition(calcPosition(direction));\n    sliding(direction);\n  }\n  useEffect(() => {\n    const interval = setInterval(() => {\n      handleArrowClick(\"forward\");\n    }, 3000);\n    return () => clearInterval(interval);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"carousel\",\n    children: [nightMode && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"carousel_gradient\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      className: `carousel_image carousel_image_current carousel_image_current_mvt-${mvt}`,\n      src: pictures[position],\n      alt: \"Projet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      className: `carousel_image carousel_image_previous carousel_image_previous_mvt-${mvt}`,\n      src: pictures[oldPosition],\n      alt: \"Projet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), total > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"carousel_arrow carousel_arrow_forward\",\n      onClick: () => handleArrowClick(\"forward\"),\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"carousel_icon fa-solid fa-angle-right\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 120\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }, this), total > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"carousel_arrow carousel_arrow_back\",\n      onClick: () => handleArrowClick(\"back\"),\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"carousel_icon fa-solid fa-angle-left\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 114\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }, this), total > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: nightMode ? \"carousel_page-numbers nightmode2\" : \"carousel_page-numbers lightmode\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: `${position + 1}/${total}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 117\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_s(Carousel, \"WgrGXINsnnfazpTW+TI6tu3KDpA=\", false, function () {\n  return [useSelector];\n});\n_c = Carousel;\nCarousel.propTypes = {\n  pictures: PropTypes.arrayOf(PropTypes.string)\n};\nexport default Carousel;\nvar _c;\n$RefreshReg$(_c, \"Carousel\");","map":{"version":3,"names":["useState","useCallback","useEffect","PropTypes","useSelector","jsxDEV","_jsxDEV","Carousel","pictures","_s","nightMode","state","display","total","length","position","setPosition","oldPosition","setOldPosition","mvt","setMvt","calcPosition","direction","sliding","setTimeout","handleArrowClick","interval","setInterval","clearInterval","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onClick","_c","propTypes","arrayOf","string","$RefreshReg$"],"sources":["/home/amandine/Documents/OpenClassRooms/FormationIntegrateurWeb/Projet_12/P12_GitHub/p12/src/components/Carousel/index.js"],"sourcesContent":["// React\nimport {useState, useCallback, useEffect} from 'react'\n\n// PropTypes\nimport PropTypes from 'prop-types'\n\n// Style\nimport './style.scss'\n\n// Redux\nimport { useSelector } from 'react-redux'\n\n\nfunction Carousel ({pictures}) {\n  const { nightMode } = useSelector((state) => state.display)\n  const total = pictures.length\n\n  let [position, setPosition] = useState(0)\n  const [oldPosition, setOldPosition] = useState(0)\n  const [mvt, setMvt] = useState(\"none\")\n\n  \n  // const mvtCarousel = useCallback(() => {\n  //   setInterval(handleArrowClick (\"back\"), 1000) \n  // }, [])\n\n  // useEffect(() => {\n  //   mvtCarousel()\n  // }, [mvtCarousel])\n\n  // Function that calculates the new position in carousel\n  function calcPosition (direction) {\n    if (direction === \"forward\") {\n      if (position === total - 1) {\n        position = 0\n        setOldPosition(total - 1)\n      }\n      else {\n        position += 1\n        setOldPosition(position - 1)\n      }\n    }\n    if (direction === \"back\") {\n      if (position === 0) {\n        position = total - 1\n        setOldPosition(0)\n      }\n      else {\n        position -= 1\n        setOldPosition(position + 1)\n      }\n    }\n    return position\n  }\n\n  // Function that displays sliding then initializes mvt variable\n  function sliding (direction) {\n    setMvt(direction)\n    setTimeout(() => {setMvt('none')}, 700)\n  }\n  \n  // Function that triggers the carousel animation\n  function handleArrowClick (direction) {\n    setPosition(calcPosition(direction))\n    sliding(direction)\n  }\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      handleArrowClick(\"forward\")\n    }, 3000)\n    return () => clearInterval(interval)\n  }) \n\n  return (\n    <div className='carousel'>\n      {nightMode && <div className='carousel_gradient'></div>}\n\n      <img className={`carousel_image carousel_image_current carousel_image_current_mvt-${mvt}`} src={pictures[position]} alt=\"Projet\"></img>\n      <img className={`carousel_image carousel_image_previous carousel_image_previous_mvt-${mvt}`} src={pictures[oldPosition]} alt=\"Projet\"></img>\n\n      {total > 1 && <div className='carousel_arrow carousel_arrow_forward' onClick={() => handleArrowClick(\"forward\")}><i className=\"carousel_icon fa-solid fa-angle-right\"></i></div>}\n      {total > 1 && <div className='carousel_arrow carousel_arrow_back' onClick={() => handleArrowClick(\"back\")}><i className=\"carousel_icon fa-solid fa-angle-left\"></i></div>}\n\n      {total > 1 && <div className={nightMode?\"carousel_page-numbers nightmode2\":\"carousel_page-numbers lightmode\"}><h3>{`${position+1}/${total}`}</h3></div>}\n    </div>\n  )\n}\n\nCarousel.propTypes = {\n  pictures: PropTypes.arrayOf(PropTypes.string)\n}\n\nexport default Carousel"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}