{"ast":null,"code":"// React\nimport{useState,useEffect}from'react';// PropTypes\n// Style\nimport'./style.scss';// Redux\nimport{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Carousel(_ref){let{pictures}=_ref;const{nightMode}=useSelector(state=>state.display);const total=pictures.length;let[position,setPosition]=useState(0);const[oldPosition,setOldPosition]=useState(0);const[mvt,setMvt]=useState(\"none\");useEffect(()=>{//   setTimeout(() => {\n//     handleArrowClick (\"back\")\n//   }, 1400)\n});// Function that calculates the new position in carousel\nfunction calcPosition(direction){if(direction===\"forward\"){if(position===total-1){position=0;setOldPosition(total-1);}else{position+=1;setOldPosition(position-1);}}if(direction===\"back\"){if(position===0){position=total-1;setOldPosition(0);}else{position-=1;setOldPosition(position+1);}}return position;}// Function that displays sliding then initializes mvt variable\nfunction sliding(direction){setMvt(direction);setTimeout(()=>{setMvt('none');},700);}// Function that triggers the carousel animation\nfunction handleArrowClick(direction){setPosition(calcPosition(direction));sliding(direction);}return/*#__PURE__*/_jsxs(\"div\",{className:\"carousel\",children:[nightMode&&/*#__PURE__*/_jsx(\"div\",{className:\"carousel_gradient\"}),/*#__PURE__*/_jsx(\"img\",{className:\"carousel_image carousel_image_current carousel_image_current_mvt-\".concat(mvt),src:pictures[position],alt:\"Projet\"}),/*#__PURE__*/_jsx(\"img\",{className:\"carousel_image carousel_image_previous carousel_image_previous_mvt-\".concat(mvt),src:pictures[oldPosition],alt:\"Projet\"}),total>1&&/*#__PURE__*/_jsx(\"div\",{className:\"carousel_arrow carousel_arrow_forward\",onClick:()=>handleArrowClick(\"forward\"),children:/*#__PURE__*/_jsx(\"i\",{className:\"carousel_icon fa-solid fa-angle-right\"})}),total>1&&/*#__PURE__*/_jsx(\"div\",{className:\"carousel_arrow carousel_arrow_back\",onClick:()=>handleArrowClick(\"back\"),children:/*#__PURE__*/_jsx(\"i\",{className:\"carousel_icon fa-solid fa-angle-left\"})}),total>1&&/*#__PURE__*/_jsx(\"div\",{className:nightMode?\"carousel_page-numbers nightmode2\":\"carousel_page-numbers lightmode\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"\".concat(position+1,\"/\").concat(total)})})]});}export default Carousel;","map":{"version":3,"names":["useState","useEffect","useSelector","jsx","_jsx","jsxs","_jsxs","Carousel","_ref","pictures","nightMode","state","display","total","length","position","setPosition","oldPosition","setOldPosition","mvt","setMvt","calcPosition","direction","sliding","setTimeout","handleArrowClick","className","children","concat","src","alt","onClick"],"sources":["/home/amandine/Documents/OpenClassRooms/FormationIntegrateurWeb/Projet_12/P12_GitHub/p12/src/components/Carousel/index.js"],"sourcesContent":["// React\nimport {useState, useEffect} from 'react'\n\n// PropTypes\nimport PropTypes from 'prop-types'\n\n// Style\nimport './style.scss'\n\n// Redux\nimport { useSelector } from 'react-redux'\n\n\nfunction Carousel ({pictures}) {\n  const { nightMode } = useSelector((state) => state.display)\n  const total = pictures.length\n\n  let [position, setPosition] = useState(0)\n  const [oldPosition, setOldPosition] = useState(0)\n  const [mvt, setMvt] = useState(\"none\")\n\n  useEffect(() => {\n  //   setTimeout(() => {\n  //     handleArrowClick (\"back\")\n  //   }, 1400)\n  },)\n\n  // Function that calculates the new position in carousel\n  function calcPosition (direction) {\n    if (direction === \"forward\") {\n      if (position === total - 1) {\n        position = 0\n        setOldPosition(total - 1)\n      }\n      else {\n        position += 1\n        setOldPosition(position - 1)\n      }\n    }\n    if (direction === \"back\") {\n      if (position === 0) {\n        position = total - 1\n        setOldPosition(0)\n      }\n      else {\n        position -= 1\n        setOldPosition(position + 1)\n      }\n    }\n    return position\n  }\n\n  // Function that displays sliding then initializes mvt variable\n  function sliding (direction) {\n    setMvt(direction)\n    setTimeout(() => {setMvt('none')}, 700)\n  }\n  \n  // Function that triggers the carousel animation\n  function handleArrowClick (direction) {\n    setPosition(calcPosition(direction))\n    sliding(direction)\n  }\n\n  return (\n    <div className='carousel'>\n      {nightMode && <div className='carousel_gradient'></div>}\n\n      <img className={`carousel_image carousel_image_current carousel_image_current_mvt-${mvt}`} src={pictures[position]} alt=\"Projet\"></img>\n      <img className={`carousel_image carousel_image_previous carousel_image_previous_mvt-${mvt}`} src={pictures[oldPosition]} alt=\"Projet\"></img>\n\n      {total > 1 && <div className='carousel_arrow carousel_arrow_forward' onClick={() => handleArrowClick(\"forward\")}><i className=\"carousel_icon fa-solid fa-angle-right\"></i></div>}\n      {total > 1 && <div className='carousel_arrow carousel_arrow_back' onClick={() => handleArrowClick(\"back\")}><i className=\"carousel_icon fa-solid fa-angle-left\"></i></div>}\n\n      {total > 1 && <div className={nightMode?\"carousel_page-numbers nightmode2\":\"carousel_page-numbers lightmode\"}><h3>{`${position+1}/${total}`}</h3></div>}\n    </div>\n  )\n}\n\nCarousel.propTypes = {\n  pictures: PropTypes.arrayOf(PropTypes.string)\n}\n\nexport default Carousel"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}